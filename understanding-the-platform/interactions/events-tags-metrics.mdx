---
title: "Events, Tags, Metrics"
description: "Understanding interaction data and analytics"
---

# Events, Tags, Metrics

Events, tags, and metrics describe everything that happens during an interaction and make agent behavior observable. They power dashboards, alerts, governance, and debugging across all channels.

## Overview

Every interaction is represented by a `Communication` record that captures status, timing, token usage, recordings, tags, call tags, ratings, and metadata. Events are emitted throughout the interaction lifecycle, tags annotate important states and outcomes, and metrics aggregate these signals over time.

Together, these primitives allow you to answer questions like “How many calls escalated today?”, “Which tools are failing?”, and “Where are customers getting stuck?” without manually inspecting transcripts.

## How It Works

1. When an interaction starts, a `Communication` is created with fields such as `Type`, `Direction`, `AgentId`, `Status`, and `StartTime`.
2. As the conversation progresses, services emit **events** for skill loads, tool calls, errors, escalations, timeouts, and enhancement steps.
3. **Deterministic tag rules** and call-tag logic react to these events to attach tags and call tags to the communication.
4. After the interaction ends, enhancement steps compute **sentiment**, **ratings**, **summaries**, and finalize tags and call tags.
5. Background jobs and metric extractors read `Communication`, `Tags`, `CallTags`, and related data to compute **metrics** that feed dashboards and alerts (for example `MetricDuration`, `MetricToolFailure`).

All of this is scoped to a tenant through `TenantBase` so analytics and alerts are always tenant-isolated.

## Components

- **Communication (`Communication`)**  
  - Fields such as `Status`, `StartTime`, `EndTime`, `Duration`, `TokensUsage`, `QAScore`, `Summary`, `Tags`, `CallTags`, `Rating`, and `Metadata` hold the core interaction record.  
  - DTOs (`CommunicationDTO`) add derived URLs and related entities like transcriptions and human feedback.

- **Events**  
  - Internal runtime events for skill loading/unloading, tool executions and results, error conditions, escalations, timeouts, and enhancement milestones.  
  - Drive deterministic rules, logging, metrics, and downstream processing.

- **Tags (`Tag`)**  
  - Tenant-scoped tags with `Name`, `Description`, and relations to `Skills` and `Communications`.  
  - `ExposeToEnhancer` controls whether a tag is available for LLM-based tagging.

- **Call Tags (`CallTag`)**  
  - System-level tags for call characteristics (for example system error, early hang-up, human requested).  
  - Applied automatically based on deterministic rules.

- **Metrics (`Metric`)**  
  - Enumerated metrics such as `ActiveInteractions`, `TotalInteractions`, `Duration`, `ForwardAmount`, `ForwardPercentage`, `ToolFailure`, and `ToolApplicationFailure` in the `Alert` model.  
  - Computed over windows (`TimeUnit`, `WindowValue`) with estimators (`Estimator`) like Average or 95th percentile.

## Usage

1. **Design tags and call tags** that reflect the outcomes you care about (for example “escalated”, “payment_issue”, “customer_not_understood”).  
2. **Configure deterministic rules and enhancement prompts** so tags are applied either via events or LLM analysis.  
3. **Instrument tools and skills** so important events (failures, retries, escalations) are emitted with enough context for metrics and alerts.  
4. **Build dashboards** around the core metrics (volume, duration, escalations, tool failures, ratings) to monitor agent health.  
5. **Use alerts** that watch key metrics (for example `MetricToolFailure` or `MetricForwardPercentage`) and trigger incidents when thresholds are crossed.  
6. **Loop back into design** by reading tagged interactions and metrics to refine agents, skills, and tools.

## FAQ's

- **What’s the difference between tags and call tags?**  
  Tags are general-purpose labels attached to communications and skills; call tags are a specific set of system-generated labels for call characteristics (for example early hang-up or system error).

- **Where do metrics come from?**  
  Metrics are computed from `Communication` records, tags, call tags, and tool failure logs, then aggregated over windows using the metric and estimator definitions in the alerting system.

- **Can I create custom metrics?**  
  Today metrics are based on the predefined `Metric` enum; to add new metrics you extend the metrics pipeline and `Metric` values in the codebase.

## Related

- [What Interactions Are](/understanding-the-platform/interactions/what-interactions-are)
- [Interaction Lifecycle](/understanding-the-platform/interactions/interaction-lifecycle)
- [LLM Tags](/understanding-the-platform/tags/llm-tags)
- [Deterministic Tags](/understanding-the-platform/tags/deterministic-tags)
- [Tag Libraries](/understanding-the-platform/tags/tag-libraries)
- [Alerts (Concepts)](/understanding-the-platform/alerts/what-alerts-are)
